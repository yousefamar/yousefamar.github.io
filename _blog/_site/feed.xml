<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Lab Book of Life</title>
    <description>Ruminations of Yousef Amar
</description>
    <link>http://yousefamar.com/blog/</link>
    <atom:link href="http://yousefamar.com/blog/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Wed, 24 Feb 2021 03:18:33 +0000</pubDate>
    <lastBuildDate>Wed, 24 Feb 2021 03:18:33 +0000</lastBuildDate>
    <generator>Jekyll v3.8.5</generator>
    
      <item>
        <title>Hacking HTML5 Xonix</title>
        <description>&lt;p&gt;Time for yet another casual hack of a little browser game that hasn’t been secured. A game called “Xonix” was released for DOS in 1984. It involved incrementally tracing areas on a grid while avoiding moving dots, and when an area is outlined, it would be filled in automatically. As the levels increased in difficulty, the goal was to get a certain percentage of the grid filled in without running out of lives. Some of you might be familiar with this style of game — this may in fact be the first of it’s kind!&lt;/p&gt;

&lt;p&gt;Anyway, there have been subsequent ports and clones of this game, and in 2012 two guys ported Xonix to HTML5 such that &lt;a href=&quot;http://html5xonix.appspot.com/&quot;&gt;it can be played in a browser&lt;/a&gt;. It’s pretty fun, but as usual I want to take the easy way out, so out come the dev tools!&lt;/p&gt;

&lt;p&gt;Unlike the previous game, the developers were a bit more efficient, in that they don’t bother sending a score if it’s you haven’t defeated the top 15 on the high-score list. The only request made on losing is one to get the top N players. I wasn’t about to actually try and win, so I set an XHR breakpoint for any requests, to see where this one fires.&lt;/p&gt;

&lt;p&gt;After some snooping around where it does fire, I found the check it does before submitting the score. The devs had everything nice and wrapped up in a little function I can call from the console:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;LeaderBoard.set(&quot;amar.io&quot;, 44488, Game.LEADERBOARD, function(){});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And, voilà, top of the leaderboard!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/images/xonix-highscore.png&quot; alt=&quot;Image of hacked Xonix high-score list&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Poor Daniel Shapira, assuming he got those scores fairly, must be raging pretty hard right about now. Sorry Daniel!&lt;/p&gt;

&lt;h2 id=&quot;bonus-round&quot;&gt;Bonus round!&lt;/h2&gt;

&lt;p&gt;While probing around a little more, I tried changing the parameter for the number of entries when retrieving the high-score list. When I set it to a huge number, it spits back a nasty stack trace (turns out they’re using Google App Engine with Python in the back end) and crashed the server. I felt pretty bad, but fortunately after a very short period of time it was back up. That’s the extent of the issue though, since when fingerprinting MySQL, the server returns:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Traceback (most recent call last):
	File &amp;amp;quot;/base/data/home/runtimes/python/python_lib/versions/1/google/appengine/ext/webapp/_webapp25.py&amp;amp;quot;, line 715, in __call__
		handler.get(*groups)
	File &amp;amp;quot;/base/data/home/apps/s~html5xonix/1.357745203681401670/leaderboard.py&amp;amp;quot;, line 17, in get
		count = int(cgi.escape(self.request.get('count')))
ValueError: invalid literal for int() with base 10: '1 /*! and 1=0 */'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can actually see the line of python that they use to get the “count” parameter and escape it, then convert it to an integer. The same thing happens with submitting a name to the list; it escapes all HTML entities and doesn’t seem vulnerable to injections. They’re most likely not even using SQL since it returns JSON documents.&lt;/p&gt;

&lt;p&gt;Good on ya, devs!&lt;/p&gt;
</description>
        <pubDate>Fri, 18 Nov 2016 00:00:00 +0000</pubDate>
        <link>http://yousefamar.com/blog/2016/11/18/hacking-html5-xonix.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2016/11/18/hacking-html5-xonix.html</guid>
        
        
      </item>
    
      <item>
        <title>Hacking PlaySnake.org</title>
        <description>&lt;p&gt;Yet another random flash game with a high-score list without any security. This time it’s as simple as whipping out DevTools, losing the game, and copying the score POST request as a cURL command from the network tab. The “game” argument can be &lt;code class=&quot;highlighter-rouge&quot;&gt;snake1&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;snake2&lt;/code&gt;, or &lt;code class=&quot;highlighter-rouge&quot;&gt;snake3&lt;/code&gt; depending on the list (slug, worm, or python respectively), and “score” and “name” are score and name obviously. The name seems to be sanitized properly server-side as far as I can tell, so no funny business dropping the whole list from the database, or hijacking the website with HTML entities etc, and it is flash after all.&lt;/p&gt;

&lt;p&gt;This time I left a link to amar.io — I wonder how that might affect unique visitor count?&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/images/snake-highscore-slug.png&quot; alt=&quot;Image of hacked slug high-score list&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Looks like a game dev at reacentration.com might have had the same idea!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/images/snake-highscore-python.png&quot; alt=&quot;Image of hacked python high-score list&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 13 Nov 2016 00:00:00 +0000</pubDate>
        <link>http://yousefamar.com/blog/2016/11/13/hacking-playsnake-org.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2016/11/13/hacking-playsnake-org.html</guid>
        
        
      </item>
    
      <item>
        <title>To Fail the Turing Test Against Yourself</title>
        <description>&lt;p&gt;The folks over at &lt;a href=&quot;https://deepmind.com&quot;&gt;DeepMind&lt;/a&gt; have just released results introducing &lt;a href=&quot;https://deepmind.com/blog/wavenet-generative-model-raw-audio/&quot;&gt;WaveNet&lt;/a&gt; a Text-to-Speech engine that uses deep learning. The outputs are beyond anything that exists today, and span across languages. It can even be used to generate music! Just listen to the different common approaches as compared to WaveNet:&lt;/p&gt;

&lt;iframe frameborder=&quot;0&quot; width=&quot;400&quot; height=&quot;360&quot; src=&quot;https://storage.googleapis.com/deepmind-media/pixie/iframe1.html&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;The technique itself is ingenious, and surprisingly does not rely on recurrent neural networks, but instead a special form of convolutional neural networks (which are feed-forward).&lt;/p&gt;

&lt;p&gt;Although at the moment it takes an hour and a half to synthesize one second of audio, the potential uses are still numerous. Before long, audio books can be generated by the thousands, and soon even artistic expressions using voice may be revolutionized! A small indie game or animation studio might not need to hire voice actors, and &lt;a href=&quot;https://en.wikipedia.org/wiki/Vocaloid&quot;&gt;Vocaloid&lt;/a&gt; can be completely revamped!&lt;/p&gt;

&lt;p&gt;It’s not hard to imagine that before long speech synthesis at this fidelity will reach real-time speeds. At that point, there will be some much more far-reaching implications. Let’s focus on just one.&lt;/p&gt;

&lt;p&gt;You may have noticed that, like other neural networks of this kind, WaveNet is trained with samples of real human voice. As such, if you train it with your voice, the result will be something that can uncannily mimic your voice.&lt;/p&gt;

&lt;p&gt;We’ve seen &lt;a href=&quot;http://www.graphics.stanford.edu/~niessner/thies2016face.html&quot;&gt;something like this&lt;/a&gt; before:&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/ohmajJTcpNk&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;In our digital age, gone are the days where seeing is believing. You can no longer know for certain if the person you’re Skyping is who they say they are. Although technology like this is very exciting, we need to fundamentally change the way we think about identity, and identity verification. Just remember kids:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://i.imgur.com/PTnAvvT.jpg&quot; alt=&quot;On the Internet, Nobody Knows You're a Dog&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 13 Sep 2016 11:23:46 +0100</pubDate>
        <link>http://yousefamar.com/blog/2016/09/13/to-fail-the-turing-test-against-yourself.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2016/09/13/to-fail-the-turing-test-against-yourself.html</guid>
        
        
      </item>
    
      <item>
        <title>An Image Scraping Challenge</title>
        <description>&lt;p&gt;&lt;em&gt;Original post from 12 March 2015 restored from backup&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;A little over a year ago a friend sent me a 4chan banner:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s.4cdn.org/image/title/195.gif&quot; alt=&quot;4chan banner&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We started thinking about whether or not these are randomised when we realised that they’re all just static links to images with URLs that start with &lt;code class=&quot;highlighter-rouge&quot;&gt;https://s.4cdn.org/image/title/&lt;/code&gt; and file names that range from &lt;code class=&quot;highlighter-rouge&quot;&gt;0.png&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;260.png&lt;/code&gt; and from &lt;code class=&quot;highlighter-rouge&quot;&gt;0.gif&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;251.gif&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;So we challenged each other to write a scraper that would download all of these banners knowing it would be a matter of minutes. I decided to write the script in Python and he decided to write it in JavaScript with Node.js. We also agreed to have one second intervals between image downloads so we don’t don’t annoy moot (though I’m pretty sure we wouldn’t have even made a blip in requests),&lt;/p&gt;

&lt;p&gt;To make a long story short, Python is much better suited for this kind of job. With I/O in Node you’re in callback hell or waste time on async control flow.&lt;/p&gt;

&lt;p&gt;I was hardly aiming for tiny code but here is all you need:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;import urllib
import time
import os

if not os.path.exists(&quot;imgs&quot;):
    os.makedirs(&quot;imgs&quot;)

for i in xrange(1,260):
    urllib.urlretrieve(&quot;http://s.4cdn.org/image/title/&quot;+str(i)+&quot;.png&quot;, &quot;imgs/&quot;+str(i)+&quot;.png&quot;)
    time.sleep(1)

for i in xrange(1,251):
    urllib.urlretrieve(&quot;http://s.4cdn.org/image/title/&quot;+str(i)+&quot;.gif&quot;, &quot;imgs/&quot;+str(i)+&quot;.gif&quot;)
    time.sleep(1)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Mon, 11 May 2015 01:29:36 +0100</pubDate>
        <link>http://yousefamar.com/blog/2015/05/11/an-image-scraping-challenge.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2015/05/11/an-image-scraping-challenge.html</guid>
        
        
      </item>
    
      <item>
        <title>Write More</title>
        <description>&lt;p&gt;There are a lot of things that I want to write about but never do. Usually it’s due to a mixture of occupation, perfectionism, and procrastintion.&lt;/p&gt;

&lt;p&gt;To solve the first, I’ve switched to &lt;a href=&quot;https://ghost.org/&quot;&gt;Ghost&lt;/a&gt; as a blogging platform since a while now, and I much prefer it to WordPress for a whole bunch of reasons. Also, my new policy is brutal conciceness. I’ll be writing short, condensed articles so that having no time can no longer be an excuse.&lt;/p&gt;

&lt;p&gt;The curse of perfectionism can only be lifted with practice it seems. It reaches a point where it becomes a hindering factor. If you focus too much of quality and not quantity, you’ll never get anywhere. And in &lt;a href=&quot;http://blog.codinghorror.com/quantity-always-trumps-quality/&quot;&gt;certain cases&lt;/a&gt; (thanks for the link Aku), quantity produces superior quality. So now I’ll be posting fast and frequently for greater good.&lt;/p&gt;

&lt;p&gt;Finally, I’ll need to stop procrastinating. To do that I promise in writing - in the form of this blog post - that I will. Now if don’t, there will be public proof of my failure to do so. And I don’t want &lt;em&gt;that&lt;/em&gt;!&lt;/p&gt;

&lt;p&gt;No more excuses!&lt;/p&gt;
</description>
        <pubDate>Sun, 15 Feb 2015 15:07:04 +0000</pubDate>
        <link>http://yousefamar.com/blog/2015/02/15/write-more.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2015/02/15/write-more.html</guid>
        
        
      </item>
    
      <item>
        <title>The Importance of Making Backups</title>
        <description>&lt;p&gt;I don’t know how I manage to be this insanely lucky…&lt;/p&gt;

&lt;p&gt;While doing some server maintenance I accidentally deleted the database that contains my entire blog (yeah, I know) with posts, comments, users, and everything else. Thanks to some incredible stroke of sheer luck, I had a corrupted the volume that my blog was on once before and simply made a new one and copied stuff over without bothering to delete the old one. That old one is the reason I could recover most of my blog (everything up to a couple of weeks ago) and there was only one other post that I’ve published since then.&lt;/p&gt;

&lt;p&gt;Luckily for me, glorious Google exists and their bots had already cached that last blog post, so I was able to recover that one with the aid of Google’s cache. The rest of the changes I simply redid manually. The only thing I couldn’t recover was the account of the single, solitary user that had subscribed to my blog, so if you’re reading this loffeno, sorry!&lt;/p&gt;
</description>
        <pubDate>Mon, 28 Oct 2013 15:55:48 +0000</pubDate>
        <link>http://yousefamar.com/blog/2013/10/28/the-importance-of-making-backups.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2013/10/28/the-importance-of-making-backups.html</guid>
        
        
      </item>
    
      <item>
        <title>Apple Maps 3D: How did they do it?</title>
        <description>&lt;p&gt;With the release of OS X Mavericks came a bunch of new features like full screen support on multiple monitors (about time, Apple!). One other such feature is the new Maps app. Its unique selling point is 3D flyover maps. How does it work?&lt;!--more--&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/images/new-york-3d.png&quot; alt=&quot;New York City, now in 3D!&quot; /&gt; &lt;em&gt;New York City, now in 3D!&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Not too shabby! Here’s the same shot in Google Earth for comparison:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/images/new-york-4d.png&quot; alt=&quot;Smooth as always, Google!&quot; /&gt; &lt;em&gt;Smooth as always, Google!&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Sorry, but I’m gonna have to side with Google on this one on aesthetics! 3D models in Google Earth are often crowdsourced and built and skinned my hand using the idiot-proof modeling tool Google Sketchup. They’re made to look right. Apple’s Maps on the other hand are built automatically.&lt;/p&gt;

&lt;p&gt;Back in late 2011, Apple bought up a Swedish 3D mapping company called C3 Technologies that then disappeared off the radar. C3′s mapping technology was originally intended to help missiles home in on targets but was then used by Nokia’s map app Ovi, before Apple bought the company.&lt;/p&gt;

&lt;p&gt;How does it work? It involves taking pictures at a whole range of different angles to the ground from a plane then using computer vision software figure out depth from different images of the same object just like our own eyes do.&lt;a title=&quot;Ultrasharp 3-D Maps&quot; href=&quot;http://www.technologyreview.com/news/423838/ultrasharp-3-d-maps/&quot; target=&quot;_blank&quot;&gt;[1]&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;That’s why it gets a little wobbly when you zoom in. The advantage is that the skin quality is often much better. Here’s an image of the clock tower at my university in the Maps app:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/images/old-joe-front.png&quot; alt=&quot;Old Joe's Front&quot; /&gt; &lt;em&gt;Old Joe’s Front&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;And here it is from the other side:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/images/old-joe-back.png&quot; alt=&quot;Old Joe's Behind ಠ_ಠ&quot; /&gt; &lt;em&gt;Old Joe’s Behind ಠ_ಠ&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;You’ll notice the that in each image, one side of the clock tower is a couple of hours apart temporally from the other side. Clearly the plane must have flown by more than once to get all the sides. Another explanation is that the time difference comes from the time it took for the plane to get situated in a way such that one of the perspective cameras lined up with the clock tower just right. In other words, the plane could have been busy taking pictures of the lake in The Vale (north) from above, but at that time, one of its cameras were pointing towards the clock tower from the side. The pictures of the other side would have been taken while the plane was somewhere in Selly Oak (south) by the opposite perspective camera a couple of hours late. Either way, pretty cool stuff.&lt;/p&gt;

&lt;p&gt;Let’s see what Google Earth has to offer.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/images/old-joe-google.png&quot; alt=&quot;Well, that's embarrassing...&quot; /&gt; &lt;em&gt;Well, that’s embarrassing…&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Weak. Well known places get a lot of attention when crafted, especially when it’s by volunteers. Here, the Great Hall (building with the largest Dome) has it’s entrance blocked by a mysterious clock face that I can assure you is not there in real life.&lt;/p&gt;

&lt;p&gt;Apple++ for decent automatic mapping software! Get it together, Google!&lt;/p&gt;

&lt;p&gt;Update: I spoke to my project supervisor about this recently and he mentioned how SketchUp can let you take an image of something and define outlines manually on it and let it automatically extrude and skin a model for you (search: “Photo Match”). That would explain how the clock tower skin covers the entrance to the Great Hall; the image that was used to build the models was taken from an angle where the clock tower was covering the Great Hall and hence the model!&lt;/p&gt;
</description>
        <pubDate>Thu, 24 Oct 2013 21:14:10 +0100</pubDate>
        <link>http://yousefamar.com/blog/2013/10/24/apple-maps-3d-how-did-they-do-it.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2013/10/24/apple-maps-3d-how-did-they-do-it.html</guid>
        
        
      </item>
    
      <item>
        <title>Ludum Dare 27: &quot;10 Seconds&quot; Entry</title>
        <description>&lt;p&gt;Last weekend I submitted my new game, &lt;a title=&quot;Out of Breath&quot; href=&quot;http://www.ludumdare.com/compo/ludum-dare-27/?action=preview&amp;amp;uid=21239&quot; target=&quot;_blank&quot;&gt;Out of Breath&lt;/a&gt;, for the 27th &lt;a title=&quot;Ludum Dare&quot; href=&quot;http://www.ludumdare.com/&quot; target=&quot;_blank&quot;&gt;Ludum Dare&lt;/a&gt; competition; the first ever I’ve found the time to finish for Ludum Dare. Written in JavaScript from scratch with zero libraries!&lt;/p&gt;

&lt;p&gt;Here are some screenshots:&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;   &quot; alt=&quot;Out of Breath Screenshot 1&quot; src=&quot;http://www.ludumdare.com/compo/wp-content/compo2/273708/21239-shot0.png&quot; width=&quot;800&quot; height=&quot;450&quot; /&gt; &lt;em&gt;Searching for the Treasure&lt;/em&gt;&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;&lt;img class=&quot;   &quot; alt=&quot;Out of Breath Screenshot 2&quot; src=&quot;http://www.ludumdare.com/compo/wp-content/compo2/273708/21239-shot1.png&quot; width=&quot;800&quot; height=&quot;450&quot; /&gt; &lt;em&gt;Waiting for some Bubbles&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;   &quot; alt=&quot;Out of Breath Screenshot 3&quot; src=&quot;http://www.ludumdare.com/compo/wp-content/compo2/273708/21239-shot2.png&quot; width=&quot;800&quot; height=&quot;450&quot; /&gt; &lt;em&gt;Chilling in a Cavern&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;    &quot; alt=&quot;Out of Breath Screenshot 4&quot; src=&quot;http://www.ludumdare.com/compo/wp-content/compo2/273708/21239-shot3.png&quot; width=&quot;800&quot; height=&quot;450&quot; /&gt; &lt;em&gt;Skirting Stalagmites and Stalactites&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;You can play the game here too if you want; just scroll down. Controls are WASD or arrow keys. The game has been tested in Chrome and FireFox, but I recommend Chrome since it seems to give me a faster frame rate.&lt;/p&gt;

&lt;p&gt;If the game seems impossibly hard, it only means that you were very, very, VERY unlucky. Refresh the page to generate a more normal distribution of flora. Art and sound are quite lacking to say the least, but the game does have an “ending” so don’t give up! I’ll definitely continue working on it after the LD27.&lt;/p&gt;

&lt;p&gt;The source code can either be viewed within your browser the standard way (it is entirely unobfuscated although not very commented) or downloaded in a zip file. It’s not open source yet though so please don’t steal. ;)&lt;/p&gt;

&lt;p&gt;Enjoy!&lt;/p&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
function removeCanvasMargin() {
	return;
	var gameFrame = document.getElementById('gameFrame');
	var canvas = (gameFrame.contentDocument || gameFrame.contentWindow.document).getElementById('canvas').style.marginTop = 0;
}
&lt;/script&gt;

&lt;center&gt;&lt;iframe id=&quot;gameFrame&quot; src=&quot;https://amar.io/out-of-breath&quot; height=&quot;450&quot; width=&quot;800&quot; onload=&quot;removeCanvasMargin()&quot;&gt;&lt;/iframe&gt;&lt;/center&gt;
</description>
        <pubDate>Mon, 26 Aug 2013 16:50:39 +0100</pubDate>
        <link>http://yousefamar.com/blog/2013/08/26/ludum-dare-27-10-seconds-entry.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2013/08/26/ludum-dare-27-10-seconds-entry.html</guid>
        
        
      </item>
    
      <item>
        <title>Migration to WordPress</title>
        <description>&lt;p&gt;After taking a closer look at what WordPress has to offer, I don’t know what I was thinking using Tumblr as a blogging platform. Not that I left Tumblr because it’s bad, it’s just not at all suited for my kind of format. WordPress is to Tumblr what Tumblr is to Twitter if that makes any sense. I didn’t leave Tumblr because Yahoo bought it, just to be clear.&lt;/p&gt;

&lt;p&gt;So now I have much better control over what goes on here especially since all of this is running on my own server. This will probably mean I’ll post more stuff too!&lt;/p&gt;
</description>
        <pubDate>Mon, 17 Jun 2013 09:34:59 +0100</pubDate>
        <link>http://yousefamar.com/blog/2013/06/17/migration-to-wordpress.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2013/06/17/migration-to-wordpress.html</guid>
        
        
      </item>
    
      <item>
        <title>Hacking Every Second Counts</title>
        <description>&lt;p&gt;Once again I needed a break from hardcore coding and decided to play some online games. As I was surfing around I came across &lt;a title=&quot;EverySecond&quot; href=&quot;http://www.zefrank.com/everysecond/index.html&quot; target=&quot;_blank&quot;&gt;this game&lt;/a&gt; on zefrank.com, a website as old as the internet itself. A simple game that tests the accuracy of your internal clock with no end. The only incentive is beating the people on the highscore list. The player with the highest score gets to leave a little message for the world to see.&lt;/p&gt;
&lt;div&gt;&lt;img class=&quot;aligncenter&quot; alt=&quot;image&quot; src=&quot;http://media.tumblr.com/9697cdbf0ea95135a4b2bdd6bc172606/tumblr_inline_mohogrvnYx1qz4rgp.png&quot; /&gt;&lt;/div&gt;
&lt;p&gt;The game is not at all easy even if you use some kind of timer and it’s pretty safe to assume that #1 is there to stay. Or is he?&lt;!--more--&gt;&lt;!-- more --&gt;&lt;/p&gt;

&lt;p&gt;I’ve decided to hack this. I’m still not sure if it will work (I’m literally typing this at the same time as said hacking) but I have high hopes since it’s unlikely there’s going to be a lot of security layers in my way. I wouldn’t even really call it “hacking”. Ze, if you’re reading this, I’m sorry ahead of time and if I do end up on the highscore list, feel free to remove me from your database.&lt;/p&gt;

&lt;p&gt;Changing the score with the usual memory scanner/hex editor treatment looks like a no-go alone due to the nature of the game. Right, so let decompile the code and look for anything immediately noticeable. Ah a url:&lt;/p&gt;

&lt;p&gt;http://www.zefrank.com/everysecond/getdata.php?tablename=everysecond&amp;amp;cache=“+random(999),”_root.highscore”&lt;/p&gt;

&lt;p&gt;Looks like it queries some database for data via PHP. Plug in a random number up to 999 and you get this:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&amp;amp;name0=Sorry Sean..&amp;amp;score0=136.2&amp;amp;extra0=How the mighty have fallen! ~Matt&amp;amp;name1=BIG SEAN&amp;amp;score1=135&amp;amp;extra1=VICTORY IS MINE- I LEAVE BEHIND ME A PATH OF DESTRUCTION, A LEGACY OF TRIUMPH. KNEEL BEFORE MY AWESOME POWER AND TYRANNY; THIS CONQUEST OF THE SCIENCES SHALL FOREVER BE REMEMBERED IN AWE AND FEAR. KNEEL!!&amp;amp;name2=JoJoBloMo&amp;amp;score2=125.2&amp;amp;extra2=I am internet famous! This is a story all about how my life got flipped, turned upside down… Go to flash.landrycoolers.com to learn how to get these high scores.&amp;amp;name3=Logger067&amp;amp;score3=104.4&amp;amp;extra3=Ha-ha! Losers!&amp;amp;name4=Ralle&amp;amp;score4=100&amp;amp;extra4=Hahahaha!&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Nice! Looks like we can read the messages for all the runner-ups too. You don’t even need the “cache” variable. Let’s clean that up a bit:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Sorry Sean.. - 136.2
&lt;/span&gt;&lt;span&gt;How the mighty have fallen! ~Matt&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;BIG SEAN - 135
&lt;/span&gt;&lt;span&gt;VICTORY IS MINE- I LEAVE BEHIND ME A PATH OF DESTRUCTION, A LEGACY OF TRIUMPH. KNEEL BEFORE MY AWESOME POWER AND TYRANNY; THIS CONQUEST OF THE SCIENCES SHALL FOREVER BE REMEMBERED IN AWE AND FEAR. KNEEL!!&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;JoJoBloMo - 125.2
&lt;/span&gt;&lt;span&gt;I am internet famous! This is a story all about how my life got flipped, turned upside down… Go to flash.landrycoolers.com to learn how to get these high scores.&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Logger067 - 104.4
&lt;/span&gt;&lt;span&gt;Ha-ha! Losers!&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Ralle - &lt;/span&gt;&lt;span&gt;100
&lt;/span&gt;&lt;span&gt;Hahahaha!&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;So far so good! It looked like JoJoBloMo may have gotten there before me but their website seems to be dead and has nothing relevant on it on &lt;a title=&quot;WayBack Machine&quot; href=&quot;http://archive.org/web/web.php&quot; target=&quot;_blank&quot;&gt;WayBack Machine&lt;/a&gt;. Chances are some of them got those scores unfairly too though. To get a score of 100 you would have to play perfectly for 16.83 minutes (0.2 * n*(n+1)/2) and to beat “Matt” you need to do the same for at least 31.14 mins. Ain’t nobody got time fo’ that!&lt;/p&gt;

&lt;p&gt;So let’s see what else we can find…&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;if(!(_root.level&amp;lt;hiscore))
{
   submit.userscore=_root.level;
   win_message=&quot;Cogratulations! You have the top score. Enter your name below, as well as you victory message and press submit.&quot;;
}
else
{
   win_message=&quot;Cogratulations! You have a high score. Enter your name below and press submit.&quot;;
   submit.userscore=_root.level;
   submit.usermessage=&quot;You need the top score to post a message!&quot;;
}
update();
stop();&lt;/pre&gt;
&lt;p&gt;And Jackpot!&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;if(userscore&amp;gt;_root.lowestscore&amp;amp;&amp;amp;sent&amp;lt;1)
{
   sent=1;
   output=&quot;please wait : sending score&quot;;
   lowscore=_root.lowestscore;
   loadVariables(&quot;http://www.zefrank.com/everysecond/insertdelete.php?tablename=everysecond&amp;amp;cache=&quot;+random(9999),this);
}&lt;/pre&gt;
&lt;p&gt;Huehuehuehue…&lt;/p&gt;

&lt;p&gt;Well, I don’t feel like trying to figure out what the correct GET variables are and I don’t want to screw it up so instead I’ll just set the starting level to 1337 (literally just a single assignment) and lose the game immediately. It would take 49.69 perfect, non-stop hours to get that score fairly. Advertising my blog in the message may be a bit tactless so instead I’ll just let whoever sees it google my name for more info.&lt;/p&gt;
&lt;div&gt;&lt;img class=&quot;aligncenter&quot; alt=&quot;image&quot; src=&quot;http://media.tumblr.com/95076a9d7cb16a34893da1ab460354cf/tumblr_inline_mohugrhaM81qz4rgp.png&quot; /&gt;&lt;/div&gt;
&lt;p&gt;And happy trails to you too!&lt;/p&gt;
</description>
        <pubDate>Sun, 16 Jun 2013 16:22:00 +0100</pubDate>
        <link>http://yousefamar.com/blog/2013/06/16/hacking-every-second-counts.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2013/06/16/hacking-every-second-counts.html</guid>
        
        
      </item>
    
      <item>
        <title>Client-side Password Verification in JavaScript</title>
        <description>&lt;p&gt;Business websites often only act as an online brochure. As such, those that need some kind of password protection often don’t go too all-out in implementing it. Reasons for this could be:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;span&gt;Skill; &lt;/span&gt;&lt;span&gt;checking user input client-side is much easier than server-side.&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;&lt;span&gt;Budget; why pay for a server only for checking passwords when you can just host your HTML/CSS/JS files online for much cheaper and not have to worry about any server-side scripting.&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;&lt;span&gt;Security; maybe the information you’re password protecting isn’t that critical and doesn’t need airtight security.&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span&gt;The reason is most likely a combination of the latter two. However, a web developer can take just a few simple extra steps to make their website much more secure.&lt;!--more--&gt;&lt;!-- more --&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span&gt;What NOT To Do&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;Take &lt;/span&gt;&lt;a href=&quot;http://www.zahnarzt-frankfurt.de/&quot; target=&quot;_blank&quot;&gt;http://www.zahnarzt-frankfurt.de/&lt;/a&gt;, an informational website for a German association of dentists, for instance. I stumbled upon this particular specimen while searching for my own dentist’s phone number. The home page presents you with two buttons; one for patients and one for dentists. Clicking on the patients button will take you to the information that you, the patient, were looking for. Clicking on the dentists button will take you to a page with a single password field and a continue button.&lt;span&gt;
&lt;/span&gt;&lt;/p&gt;
&lt;div&gt;&lt;img alt=&quot;image&quot; src=&quot;http://media.tumblr.com/49cedc5623d61d878f5df2322e4c2101/tumblr_inline_mo1hwztwEf1qz4rgp.png&quot; /&gt;&lt;/div&gt;
&lt;p&gt;The website itself looks semi-professional. It looks like it was made with a decent IDE but I can’t shake the suspicion that getting into this “Doctors Only section” isn’t very hard.&lt;/p&gt;

&lt;p&gt;Time to check out the source code. Inspect Element? Nope, right-click disabled. Haha now it’s obvious this web developer had something to hide. Let’s bring out the Developer Tools the old fashioned way and inspect that form from there. What’s this?&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;&amp;lt;form action=&quot;javascript:loadpage();&quot; method=&quot;post&quot; name=&quot;passwort&quot;&amp;gt;&lt;/pre&gt;
&lt;p&gt;Bingo! Client-side verification. And right above it:&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;&amp;lt;script language=&quot;JavaScript&quot; type=&quot;text/JavaScript&quot;&amp;gt;
    &amp;lt;!--
    function loadpage() {
        if (document.passwort.pswd.value != &quot;chirurgie&quot;){
            document.location.href=&quot;passwort_falsch_en.html&quot;
        } else {
            document.location.href=&quot;chirurgie/&quot; + document.passwort.pswd.value + &quot;.html&quot;
        }
    }
    //--&amp;gt;
&amp;lt;/script&amp;gt;&lt;/pre&gt;
&lt;p&gt;The code above has been cleaned up slightly to make it readable. You can also tell by the developer’s style that JavaScript was &lt;em&gt;not&lt;/em&gt; their first language to say the least. Well, now we know their dictionary word password and can successfully infiltrate the “Dentist Only section” without being dentists! 1337 h4x0r life.&lt;/p&gt;
&lt;h2&gt;What To Do Instead&lt;/h2&gt;
&lt;p&gt;Obviously the best solution is to check everything server-side against a hashed password. &lt;em&gt;Hashed&lt;/em&gt;, not encrypted; encrypted passwords can still be decrypted. The way I like to hash passwords is with a (randomly) salted SHA256 hash to have a nice balance between security and speed/complexity. That way even if somehow my servers are compromised by some insanely skilled hackers, they still can’t figure out my users’ passwords (which are all required to be complex; i.e. long, with capitals/numbers/punctuation, no dictionary words etc.) without spending a virtually infinite amount of time brute-forcing them.&lt;/p&gt;

&lt;p&gt;On the client side however, the best we can do is hash a complex password with a strong, difficult to crack hash function like a salted SHA-3 hash (very easy in JavaScript) and hardcode it in. In fact, the hash algorithm can be as complex as we want because it’s all being run on the user’s computer and not wasting server CPU processing time. With just the hashed password, even the most skilled hacker can only attempt an educated brute-force attack. It would be easier for them to instead find the owner of the website and torture them into revealing the password.&lt;/p&gt;

&lt;p&gt;Here’s a practical example of client-side hashing and password verification in the same function as the example website above:&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;var salt = 'Hack THIS!';
var hashedPass = '99c0c3ea5c83f8608f488100a1f42e6478fdb2042d24dee0f1c997c75d65efad';
function loadpage() {
    if (SHA256(salt+document.passwort.pswd.value) !== hashedPass){
        document.location.href='passwort_falsch_en.html';
    } else {
        document.location.href='chirurgie/'+document.passwort.pswd.value+'.html';
    }
}&lt;/pre&gt;
&lt;p&gt;&lt;span&gt;JavaScript hash functions can be found in libraries such as &lt;/span&gt;&lt;a title=&quot;CryptoJS&quot; href=&quot;https://code.google.com/p/crypto-js/&quot; target=&quot;_blank&quot;&gt;CryptoJS&lt;/a&gt;&lt;span&gt; or just &lt;/span&gt;&lt;a title=&quot;Webtoolkit Javascript SHA-256&quot; href=&quot;http://www.webtoolkit.info/javascript-sha256.html&quot; target=&quot;_blank&quot;&gt;online&lt;/a&gt;&lt;span&gt;. After some minification and obfuscation, this code would make the dentist website’s password verification leagues better with very little extra effort! &lt;/span&gt;Of course make sure that visitors and web crawlers can’t see your protected pages! For visitors, use &lt;span&gt;.htaccess’ “Options All -Indexes”, or “IndexIgnore&lt;/span&gt; ./zahnaerzte/chirurgie/*&lt;span&gt;” in this case, and for spiders, put “&lt;/span&gt;&lt;span&gt;Disallow: /&lt;/span&gt;&lt;span&gt;zahnaerzte/chirurgie/&lt;/span&gt;&lt;span&gt;” in your robots.txt (and hide that from visitors too!) and so on. Obviously there’s no point in implementing a timeout on too many password attempts as it would take mere seconds to circumvent.&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;That’s all it takes to fend off script kiddies!&lt;/span&gt;&lt;/p&gt;
</description>
        <pubDate>Fri, 07 Jun 2013 22:06:00 +0100</pubDate>
        <link>http://yousefamar.com/blog/2013/06/07/password-verification-in-client-side-javascript.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2013/06/07/password-verification-in-client-side-javascript.html</guid>
        
        
      </item>
    
      <item>
        <title>The Ternary Operator: Java vs PHP</title>
        <description>&lt;p&gt;Oftentimes when verbosity isn’t required, I like to chain ternary operations (inline ifs) together. The resulting code isn’t necessarily hard to read with a trained eye. It’s for the same reason that doing this:&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;var x = y || 'default';&lt;/pre&gt;
&lt;p&gt;in JavaScript can save a lot of extra code and complexity. Ain’t nobody got time to check if a variable is undefined.&lt;/p&gt;

&lt;p&gt;Here’s something that took me a while to realise was the source of a bug though.&lt;!--more--&gt;&lt;!-- more --&gt; Would you say these two snippets of code do the same thing?&lt;/p&gt;

&lt;p&gt;Java:&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;public class Main {
    public static void main(String []args){
        boolean a = true;
        boolean b = false;
        int output = a?0:b?1:2;
        System.out.println(output);
    }
}
&lt;/pre&gt;
&lt;p&gt;PHP:&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;&amp;lt;?php   
    $a = true;
    $b = false;
    $output = $a?0:$b?1:2;
    echo $output;
?&amp;gt;
&lt;/pre&gt;
&lt;p&gt;Nope. Java does the intuitive (like most other C-like languages) and outputs 0. PHP outputs 2. Why? &lt;span&gt;Java and PHP Order of Operations/Operator Precedence can’t tell us anything because we’re comparing which of the same thing comes first.&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;It turns out ternary expressions are evaluated from left to right in PHP. In Java the expression is the same as “a?0:(b?1:2)”. To get the same behaviour in PHP, you would need the brackets. As it stands, the expression in PHP is the same as “(a?0:b)?1:2” where (unlike in strongly-typed Java) 0 is evaluated as false making the final result 2.&lt;/p&gt;

&lt;p&gt;Here’s the same code again in C for good measure:&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;#include &amp;lt;stdio.h&amp;gt;

int main() {
    int a = 1;
    int b = 0;
    int output = (a?0:b)?1:2;
    printf(&quot;%d&quot;, output);
    return 0;
}
&lt;/pre&gt;
&lt;p&gt;Yup, outputs a 2 as expected. Beware of these little inconsistencies across syntactically similar languages; you never know when it will cost you hours of debugging!&lt;/p&gt;
</description>
        <pubDate>Tue, 04 Jun 2013 15:24:00 +0100</pubDate>
        <link>http://yousefamar.com/blog/2013/06/04/the-ternary-operator-java-vs-php.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2013/06/04/the-ternary-operator-java-vs-php.html</guid>
        
        
      </item>
    
      <item>
        <title>Reaching the Infamous Star in CLOP</title>
        <description>&lt;p&gt;In &lt;a title=&quot;CLOP&quot; href=&quot;http://www.foddy.net/CLOP.html&quot; target=&quot;_blank&quot;&gt;CLOP&lt;/a&gt;, you play a perambulatory challenged unicorn attempting to reach a virgin on the far side of a hill. Sound simple? What if I told you that CLOP was made by the same person who made &lt;a title=&quot;GIRP&quot; href=&quot;http://www.foddy.net/GIRP.html&quot; target=&quot;_blank&quot;&gt;GIRP&lt;/a&gt; and &lt;a title=&quot;QWOP&quot; href=&quot;http://www.foddy.net/Athletics.html&quot; target=&quot;_blank&quot;&gt;QWOP&lt;/a&gt;. Yeah, &lt;em&gt;that&lt;/em&gt; QWOP.&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;&lt;img alt=&quot;image&quot; src=&quot;http://media.tumblr.com/25612e330d15e0df7abd696874e3976a/tumblr_inline_mntty4wjIq1qz4rgp.png&quot; /&gt;&lt;/div&gt;
&lt;p&gt;Well, although CLOP may seem easier at first, the learning curve only gets steeper as the game progresses. Even after trying what must have been hundreds of times by now, I still can’t get past the giant cliff about 3/4 of the way to the virgin.&lt;/p&gt;

&lt;p&gt;However, just like QWOP, it &lt;em&gt;is&lt;/em&gt; possible. Furthermore there seems to be this spinning star near the start just above the viewport. If you get the jump just right in the right spot you can just about see it.&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;&lt;img alt=&quot;image&quot; src=&quot;http://media.tumblr.com/2d72f7a109c97e10f2b8fe8b93def1bd/tumblr_inline_mnub98BqfF1qz4rgp.png&quot; /&gt;&lt;/div&gt;
&lt;p&gt;It doesn’t take many tries to realise how utterly impossible it is to reach it. The internet doesn’t seem to know what it is and it doesn’t look like anybody has ever reached it (prove me wrong). I &lt;strong&gt;must&lt;/strong&gt; find out what it does.&lt;!--more--&gt;&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;Judging by the few YouTube play-throughs that there are, towards the end of the actual game it becomes a matter of luck no matter how good you are at timing the patterns (the ones I find work for me are HJ-KL, H-JK-H-KL, and HJ*-K/L by the way). Even though I already know how the game ends, I figure one day I’ll play it through since I know it’s possible.&lt;/p&gt;

&lt;p&gt;Difficult games like these have a certain quality to them; they can easily turn into obsessions for certain players, like the “Nintendo-hard” games of old. When a goal is virtually impossible though, like the reaching the star, some people chose to give up. Others chose to hack the game. Guess which category I fall into.&lt;/p&gt;

&lt;p&gt;A quick “Inspect Element” will reveal that the SWF file is located at http://www.foddy.net/CLOP.swf, so download and decompile that (I use &lt;a title=&quot;JPEXS&quot; href=&quot;http://www.free-decompiler.com/&quot; target=&quot;_blank&quot;&gt;JPEXS&lt;/a&gt;) and we have our source code.&lt;/p&gt;

&lt;p&gt;Sure enough, everything we need is plain as day and not obfuscated. You can even read the entire list of Sherrod’s taunts in “PlayState” (one giant switch statement).&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;&lt;img alt=&quot;image&quot; src=&quot;http://media.tumblr.com/b4dae3540724fb8ecea73909f53c701c/tumblr_inline_mntwonacjD1qz4rgp.png&quot; /&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;The next step is to find the code responsible for the infamous star. I can immediately see a class called “Star” that loads the star sprite and plays the spinning animation and since the rest of the code is not obfuscated, all you need to do is search for where a “Star” is initialised.&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Instead of cheating and bringing the star down rendering the goal far too easy, why not do something else that will step the goal down from impossible to “Nintendo-hard”? Hmm, let’s see…&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;private var _gravity:Number = 270;&lt;/pre&gt;
&lt;p&gt;Muahahaha! Let’s crank that down to 10 aaand yup, CLOP should now be able to fly. Time to try it out! But wait, what’s this?&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;&lt;img alt=&quot;image&quot; src=&quot;http://media.tumblr.com/6d743e1b320ad65f03c1a3e09d88c6b7/tumblr_inline_mnu9m5hofJ1qz4rgp.png&quot; /&gt;&lt;/div&gt;
&lt;p&gt;A quick search for “permission” yielded only one result in “FlxPreloader” (probably a feature of Flixel) and the if statement was quickly put out of commission.&lt;/p&gt;

&lt;p&gt;And presto, moon gravity mode! It’s a little hard to move now but it’s also hard to die since you complete a flip before you can hit the ground.&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;&lt;img alt=&quot;image&quot; src=&quot;http://media.tumblr.com/f18c5ddf2e9b166be8197e57e388a289/tumblr_inline_mnua0pQKS91qz4rgp.png&quot; /&gt;&lt;/div&gt;
&lt;p&gt;If you want to play around with low gravity CLOP, drop me a line. I’d host it here but Bennett Foddy might not be too pleased about that.&lt;/p&gt;

&lt;p&gt;After flying around a bit it’s finally time to reach for the star. Does touching it grant us supernatural powers of dexterity beyond the wildest dreams of a unicorn? Does it teleport us to a world of rainbows and magic? Does it finally shut that SOB Sherrod up? Well, we’re about to find out. Then we’ll finally know if it is truly an easter egg that requires skills that transcend gaming and enter the realm of hacking to reach, or simply an artifact; an echo of an orphaned game feature that never quite made the cut. Here it is, the moment we’ve all been waiting for:&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;&lt;img alt=&quot;image&quot; src=&quot;http://media.tumblr.com/93154e29eb0305b4bef05a12ab336e35/tumblr_inline_mnuahlSz4x1qz4rgp.gif&quot; /&gt;&lt;/div&gt;
&lt;p&gt;Well that was anti-climactic…&lt;/p&gt;
</description>
        <pubDate>Mon, 03 Jun 2013 23:30:00 +0100</pubDate>
        <link>http://yousefamar.com/blog/2013/06/03/reaching-the-infamous-star-in-clop.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2013/06/03/reaching-the-infamous-star-in-clop.html</guid>
        
        
      </item>
    
      <item>
        <title>Storing Terrain and Map Data in GIF Frames with Java</title>
        <description>&lt;p&gt;In Java, nobody really ever uses gifs (that is, images of the *.gif persuasion) and when they do, it’s usually as an ImageIcon for Swing GUIs and the like and even then they don’t look very professional.&lt;/p&gt;

&lt;p&gt;I feel like the GIF format is under-appreciated since it is pretty much the only common format able to store image layers in a lightweight manner, display them as an animation or each layer overlaying the next, have support in most image loading APIs, and is easily creatable in common image manipulation software such as GIMP or Photoshop.&lt;/p&gt;

&lt;p&gt;With this in mind I have devised a technique to store terrain and entity data within the GIF format for easy visual editing.&lt;!--more--&gt; I don’t think anybody has ever loaded gifs layer by layer in this manner, let alone done anything quite like this in the first place, but itis quite nice.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;BufferedImage tileMap = null;
BufferedImage entityMap = null;
try {
	ImageReader ir = ImageIO.getImageReadersBySuffix(&quot;GIF&quot;).next();
	ir.setInput(ImageIO.createImageInputStream(Terrain.class.getResource(&quot;maps/&quot;+mapName+&quot;.gif&quot;).openStream()));
	tileMap = ir.read(0);
	entityMap = ir.read(1);
} catch (IOException e) {
	System.err.println(&quot;Unable to load custom map &quot;&quot;+mapName+&quot;&quot;.&quot;);
}&lt;/pre&gt;
&lt;p&gt;Let’s go through this step by step. First, we get an image reader that can read the GIF format (another advantage of using a well known format). Then we create an input stream using &lt;a href=&quot;/blog/2012/10/09/universal-resource-loading-in-java.html&quot;&gt;my preferred method&lt;/a&gt;. To read the separate layers/frames, we simply use “ir.read(layerIndex);”. That’s it! So simple and yet so overlooked.&lt;/p&gt;

&lt;p&gt;Using this technique, we can eventually turned this, an easily drawn map:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/images/testMap.gif&quot; alt=&quot;Test Map&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To this, a tile-based map for a 2D top-down game:
&lt;img src=&quot;/blog/assets/images/screen1.png&quot; alt=&quot;A tile based 2D top-down game&quot; /&gt;
&lt;img src=&quot;/blog/assets/images/screen2.png&quot; alt=&quot;A tile based 2D top-down game&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If you open up the gif above in GIMP for example, you’ll see the separate layers. Every pixel represents a tile type that eventually becomes a 32*32 tile. As such I obviously couldn’t depict the entire map as a 64*64 map (of which multiple exist, e.g. the inside of the house which is bigger on the inside by far) becomes a 2048*2048 world. How’s that for compacting data?&lt;/p&gt;

&lt;p&gt;After the image is loaded, we then iterate through the pixels and do with the information whatever we like, such as build a map while additionally being able to use data such as image size or settings encoded in one layer that can be interpreted using a custom protocol of your imagining.&lt;/p&gt;

&lt;p&gt;You might be thinking “But GIFs are only limited to 8-bit colours and I have more than 256 tile types!”. Not only are you wrong (gifs can support far more than that in exchange for making the file bigger) but you’ve overlooked the layers! That’s the beauty of it! Even if you have a million tile/colour IDs for whatever reason, you can always reuse them in different layers. In this example I use one layer for the terrain and the other for trees, buildings and decorative entities but one could for instance use a layer for fluids (water, lava, etc.) one for plants, one for in-traversable tiles that you collide with (such as water or or rocks) instead of interpreting it from the tile type, and so on. And at the same time, you could have custom maps as you don’t need to be a programmer to create a gif. Is this not better than custom file formats and complicated map editors and tools? The possibilities are endless!&lt;/p&gt;
</description>
        <pubDate>Tue, 09 Oct 2012 22:08:00 +0100</pubDate>
        <link>http://yousefamar.com/blog/2012/10/09/storing-terrain-and-map-data-in-gif-frames-with-java.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2012/10/09/storing-terrain-and-map-data-in-gif-frames-with-java.html</guid>
        
        
      </item>
    
      <item>
        <title>Universal Resource Loading in Java</title>
        <description>&lt;p&gt;Loading images and files in Java is relatively simple. Maybe not through one-liners like in Python, but the trade-off is flexibility. There are a number of ways to load resources within a Java program. On searching the internet, you’ll probably find something like this.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;try{
	File file = new File(&quot;file.txt&quot;);
	FileInputStream fs = new FileInputStream(file);
	DataInputStream in = new DataInputStream(fs);
	BufferedReader br = new BufferedReader(new InputStreamReader(in));
	String line;
	while ((line = br.readLine()) != null)
		System.out.println(line);
	in.close();
} catch (Exception e) {
	e.printStackTrace();
}&lt;/pre&gt;
&lt;p&gt;Alternatively, we could have simply passed in the file name as a String directly into the FileInputStream constructor.&lt;/p&gt;

&lt;p&gt;DataInputStreams are useful especially for reading binary files and calling methods such as “in.readInt()” amongst others for custom file formats. However, if we simply wanted to load a plain text file , there is an easier method.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;try{
	File file = new File(&quot;file.txt&quot;);
	BufferedReader br = new BufferedReader(new FileReader(file));
	String line;
	while ((line = br.readLine()) != null)
		System.out.println(line);
} catch (Exception e) {
	e.printStackTrace();
}&lt;/pre&gt;
&lt;p&gt;You might notice the fact that nobody ever bothers to cloes FileReaders, BufferedReaders, FileInputStreams and DataInputStreams by calling “close();” on their instances. This would be the primary reason to assign them to variables, not legibility, instead of cramming everything into one line. But that’s another story.&lt;/p&gt;

&lt;p&gt;Anyway, there are many different ways to load files and manage errors and eventually things get messy and you’ll find yourself having to catch exceptions left and right.&lt;!--more--&gt;&lt;/p&gt;

&lt;p&gt;The same goes for loading images; the most common way to load an image is as follows.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;BufferedImage img = null;
try {
	img = ImageIO.read(new File(&quot;image.png&quot;));
} catch (IOException e) {
	e.printStackTrace();
}&lt;/pre&gt;
&lt;p&gt;If all of this is so widely accepted, why am I complaining you ask? The number one biggest issue with loading files by far, is getting the paths right and there is a simple solution that few people know that I’ll share with you today.&lt;/p&gt;

&lt;p&gt;Assuming you’re creating an application that you plan to release, you’ll probably be packing your resources in the jar itself and want a relative path that you can get using “MyClass.class.getResource(“image.png”);” for example. However, if your project is reasonably complex, you might have organised your resources in folders such as “images/image.png” and you load it using that relative path thinking you’ve solved the problem.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Problem #1: Cross-platform compatibility&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;If you choose your file separator to be “\” you’re in for a world of hurt once you realise that this only works on Windows. You might think “Oh well I’ll solve this inconsistency by typing it as “images”+File.separator+”image.png” ” and generally, that would be fine only there’s one problem: applets. But we’ll get to that later. For now, trust me when I say always use forward slashes (/).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Problem #2: Applets&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;If you want to load an image in an applet, the standard way to go about it would be as follows.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;BufferedImage img = null;
try {
	img = ImageIO.read(new URL(&quot;http://www.example.com/image.png&quot;));
} catch (IOException e) {
	e.printStackTrace();
}&lt;/pre&gt;
&lt;p&gt;So far it may seem fine. You can already imagine creating methods to store the root URL where the images are stored but it would only work for images outside of the jar and, depending on the server your jar is on, might be limited to getting images only off of that server.&lt;/p&gt;

&lt;p&gt;Then the much, much bigger problem appears. You can’t load files using the above methods. At all. If you try to convert your path names to URIs using the “toURI();” method, you’ll notice the path starts with “file://” or something similar depending on your OS. You simply cannot load resources that exist on a web server using the traditional techniques.&lt;/p&gt;

&lt;p&gt;Even worse, “File.separator” only applies to files! It will ruin the URL if you try it on a Windows PC so you &lt;em&gt;must&lt;/em&gt; use “/” and I guarantee you it will work most anywhere.&lt;/p&gt;

&lt;p&gt;There are several solutions that I wont bother boring you with for now. We want a universal, elegant and safe solution that will work on anything. Scroll down and skip the next part to read it if you want to skip my reasoning.&lt;/p&gt;

&lt;p&gt;Now if you’re like me, you’ll like to comply with intelligent standards and best practices but rage at things that have become “the standard way” out of tradition. This isn’t just a problem in programming; if you look at the field of economics for instance, you’ll find that when plotting supply and demand curves, price is put on the vertical axis simply because that’s the way it has always been done. Any mildly scientific person will tell you that it doesn’t make sense and that price should be on the horizontal axis and economists know this too but it doesn’t change because it’s too late! I digress.&lt;/p&gt;

&lt;p&gt;So the only thing we can do is put in the extra mile to make sure our code works on all major OSs, browsers, and modes which I fundamentally believe is our duty as programmers. It doesn’t matter if I think Mac is crap, or if Windows 8 will ruin everything, people will use it and it is our job to fulfil these people’s needs to the best of our abilities.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Solution&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Now to the final solution. I prefer to keep my resources in the jar themselves which (if you sign your jars) will guarantee that they are always there and you don’t have to rely on external resources. It’s also faster and safer than loading things from an arbitrary URL. The superior, little known way to load resources universally is as follows. Ready?&lt;/p&gt;

&lt;p&gt;For images:&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;BufferedImage img = null;
try {
	img = ImageIO.read(MyClass.class.getResource(&quot;images/&quot;+fileName));
} catch (IOException e) {
	e.printStackTrace();
}&lt;/pre&gt;
&lt;p&gt;Where MyClass is a class in the same directory as the package/folder “images” and fileName is something like “image.png”.&lt;/p&gt;

&lt;p&gt;For other files:&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;try {
	InputStream in = MyClass.class.getResource(&quot;folder/&quot;+fileName).openStream();
	InputStreamReader ir = new InputStreamReader(in);
	BufferedReader br = new BufferedReader(ir);
	String line;
	while ((line = br.readLine()) != null)
		System.out.println(line);
	br.close();
	ir.close();
	in.close();
} catch (IOException e) {
	e.printStackTrace();
}&lt;/pre&gt;
&lt;p&gt;Now of course there are a bunch of types of files you can load, but the key points here are getResource(…), forward slashes, openStream() and having clean code. This will always work no matter what and spare you the headaches especially if you’re coding an application that can run as an applet or standalone. The rest is up for experimentation.&lt;/p&gt;
</description>
        <pubDate>Tue, 09 Oct 2012 17:33:00 +0100</pubDate>
        <link>http://yousefamar.com/blog/2012/10/09/universal-resource-loading-in-java.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2012/10/09/universal-resource-loading-in-java.html</guid>
        
        
      </item>
    
      <item>
        <title>Hello, world!</title>
        <description>&lt;p&gt;In an effort to consolidate my blogging endeavours, I’ll be posting here from now on. Chances are said posts will centre around software and hardware but every once in a while something completely random might make its way in. The first few posts will probably be reposts of stuff I wrote before but after that, you, dear reader, can hopefully have the pleasure of getting a behind the scenes look at my projects or learning from thoughts, tips, and techniques that I get a chance to document.&lt;/p&gt;

&lt;p&gt;Happy trails!&lt;/p&gt;
</description>
        <pubDate>Tue, 09 Oct 2012 14:47:18 +0100</pubDate>
        <link>http://yousefamar.com/blog/2012/10/09/about.html</link>
        <guid isPermaLink="true">http://yousefamar.com/blog/2012/10/09/about.html</guid>
        
        
      </item>
    
  </channel>
</rss>
